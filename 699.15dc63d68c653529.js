"use strict";(self.webpackChunkmain_app=self.webpackChunkmain_app||[]).push([[699],{7699:(j,p,a)=>{a.r(p),a.d(p,{FormsComponent:()=>T,JsonDialogComponent:()=>b});var c=a(9417),f=a(7767),y=a(4412),l=a(4843),g=a(1584),_=a(177),u=a(6850),s=a(5351),h=a(9213),t=a(4438),C=a(3801);const O=["formComponent"];function D(o,F){if(1&o&&t.nrm(0,"softbar-dynamic-form-control",11),2&o){const n=t.XpG();t.Y8G("dynamicControl",n.dynamicFormDataObjectString)("parentForm",n.group)}}function S(o,F){if(1&o&&t.nrm(0,"softbar-dynamic-form-control",11),2&o){const n=t.XpG();t.Y8G("dynamicControl",n.dynamicFormForDynamicFormConfigObjectString)("parentForm",n.group)}}function E(o,F){if(1&o){const n=t.RV6();t.j41(0,"softbar-app-dynamic-form-group",12,0),t.bIt("formOnSubmit",function(e){t.eBV(n);const i=t.XpG();return t.Njj(i.formOnSubmit(e))}),t.k0s()}if(2&o){const n=t.XpG();t.Y8G("config",n.config)("hideSubmitButton",!(null!=n.config&&n.config.length))("showCancelButton",!(null==n.config||!n.config.length))}}var m=function(o){return o.DataJSON="Generate form from any data JSON string",o.DynamicFormConfigJSON="Generate form from Dynamic Form Config Arr as JSON string",o}(m||{});let T=(()=>{class o{constructor(n,r){this.dfb=n,this.dialog=r,this.tabs=m,this.group=new c.gE({}),this.mockUser={job:{title:"Software Engineer",salary:85e3,coworkers:[{name:"Alice",phoneNumber:1234567890},{name:"Bob",phoneNumber:9876543210}]},isHappy:!0,matrix:[["A1","B1","C1"],["A2","B2","C2"],["A3","B3","C3"]],roles:["Admin","Editor","User"],name:"John Doe",age:30,friends:[{name:"David",phoneNumber:1112223333,bestFriend:{name:"Michael",phoneNumber:4445556666},friends:[{name:"Sarah",phoneNumber:7778889999,friends:[{name:"Emily",phoneNumber:2223334444},{name:"Chris",phoneNumber:5556667777}]},{name:"Daniel",phoneNumber:888999e4,friends:[{name:"Ethan",phoneNumber:9990001111},{name:"Sophia",phoneNumber:1110009999}]}]}]},this.dynamicFormForDynamicFormConfigObjectString={type:"Default",field:"dynamicFormForDynamicFormConfigObjectString",label:"From Config",placeholder:JSON.stringify([{type:"Default",field:"description",label:"Description",placeholder:"Description",data:{rows:5}}]),validation:[c.k0.required,c.k0.minLength(10)],errorMessages:{required:"Required",minlength:"minlength"},data:{rows:5}},this.dynamicFormDataObjectString={type:"Default",field:"dynamicFormDataObjectString",label:"Any Valid JSON",placeholder:JSON.stringify(this.mockUser),validation:[c.k0.required,c.k0.minLength(10)],errorMessages:{required:"Required",minlength:"minlength"},data:{rows:5}},this.defaultForm$=this.hardCodedDynamicFormConfigSetup()}selectedTabChange(n){this.selectedTab=n}hardCodedDynamicFormConfigSetup(){return new y.t(this.dfb.fromJsonToConfigRecursion(this.mockUser))}showDialog(n){this.dialog.open(b,{data:{json:JSON.stringify(n,null,2)},width:"500px"})}formOnSubmit(n){this.showDialog(n)}getOriginalState(){(0,l._)(this.defaultForm$).then(n=>{this.config=null,(0,l._)((0,g.O)(0)).then(()=>{this.config=n}).catch(()=>console.error("something want wrong!\n          server is not available at the time"))})}copyFormConfig(){this.showDialog(this.config)}ngOnInit(){this.getOriginalState()}generateFromDynamicFormConfigJSON(){this.config=null,(0,l._)((0,g.O)(0)).then(()=>{this.config=JSON.parse(JSON.stringify(new Function(`return ${this.group.getRawValue().dynamicFormForDynamicFormConfigObjectString||"{}"}`)())||"")})}generateFromDataJSON(){this.config=null,(0,l._)((0,g.O)(0)).then(()=>{this.config=this.dfb.fromJsonToConfigRecursion(JSON.parse(JSON.stringify(new Function(`return ${this.group.getRawValue().dynamicFormDataObjectString||"{}"}`)()))||""),console.log("config:",this.config)})}generate(){this.selectedTab===m.DynamicFormConfigJSON?this.generateFromDynamicFormConfigJSON():this.generateFromDataJSON()}applyPlaceholder(){this.selectedTab===m.DynamicFormConfigJSON?this.group.controls?.dynamicFormForDynamicFormConfigObjectString?.setValue(this.dynamicFormForDynamicFormConfigObjectString.placeholder):this.group.controls?.dynamicFormDataObjectString?.setValue(this.dynamicFormDataObjectString.placeholder)}reset(){this.selectedTab===m.DynamicFormConfigJSON?this.group.controls?.dynamicFormForDynamicFormConfigObjectString?.reset():this.group.controls?.dynamicFormDataObjectString?.reset()}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(f.gO),t.rXU(s.bZ))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["softbar-forms"]],viewQuery:function(r,e){if(1&r&&t.GBs(O,5),2&r){let i;t.mGM(i=t.lsd())&&(e.formComponent=i.first)}},decls:25,vars:5,consts:[["formComponent",""],[2,"font-size","25px","font-weight","bold"],[3,"selectedTabChange"],[3,"label"],[3,"dynamicControl","parentForm",4,"ngIf"],[1,"flex","py-3"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-default","mx-5",3,"click"],[1,"my-4"],[1,"py-4"],["cancelText","Cancel","submitText","Save",3,"config","hideSubmitButton","showCancelButton","formOnSubmit",4,"ngIf"],[3,"dynamicControl","parentForm"],["cancelText","Cancel","submitText","Save",3,"formOnSubmit","config","hideSubmitButton","showCancelButton"]],template:function(r,e){1&r&&(t.j41(0,"h2",1),t.EFF(1," Welcome to testing forms - here you can build form dynamically from configuration or from any JSON\n"),t.k0s(),t.nrm(2,"br"),t.j41(3,"mat-tab-group",2),t.bIt("selectedTabChange",function(d){return e.selectedTabChange(null==d||null==d.tab?null:d.tab.textLabel)}),t.j41(4,"mat-tab",3),t.DNE(5,D,1,2,"softbar-dynamic-form-control",4),t.k0s(),t.j41(6,"mat-tab",3),t.DNE(7,S,1,2,"softbar-dynamic-form-control",4),t.k0s()(),t.j41(8,"div",5)(9,"button",6),t.bIt("click",function(){return e.generate()}),t.EFF(10," Generate "),t.k0s(),t.j41(11,"button",7),t.bIt("click",function(){return e.applyPlaceholder()}),t.EFF(12," Apply Placeholder "),t.k0s(),t.j41(13,"button",6),t.bIt("click",function(){return e.reset()}),t.EFF(14," Clear Source "),t.k0s()(),t.j41(15,"div",5)(16,"button",6),t.bIt("click",function(){return e.getOriginalState()}),t.EFF(17," Restore Original Form "),t.k0s(),t.j41(18,"button",7),t.bIt("click",function(){return e.copyFormConfig()}),t.EFF(19," Copy Form Config "),t.k0s()(),t.nrm(20,"hr",8),t.j41(21,"h3",9)(22,"strong"),t.EFF(23," The tested Form: "),t.k0s()(),t.DNE(24,E,2,3,"softbar-app-dynamic-form-group",10)),2&r&&(t.R7$(4),t.Y8G("label",e.tabs.DataJSON),t.R7$(),t.Y8G("ngIf",e.group&&e.dynamicFormDataObjectString),t.R7$(),t.Y8G("label",e.tabs.DynamicFormConfigJSON),t.R7$(),t.Y8G("ngIf",e.group&&e.dynamicFormForDynamicFormConfigObjectString),t.R7$(17),t.Y8G("ngIf",e.config))},dependencies:[_.MD,_.bT,f.S6,f.QC,u.RI,u.mq,u.T8],encapsulation:2})}}return o})(),b=(()=>{class o{constructor(n,r){this.data=n,this.clipboard=r}copyToClipboard(){this.clipboard.copy(this.data.json)}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(s.Vh),t.rXU(C.B0))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["ng-component"]],decls:11,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"flex","!justify-between"],["mat-icon-button","",3,"click"],["m","","mat-dialog-close",""]],template:function(r,e){1&r&&(t.j41(0,"h1",0),t.EFF(1,"JSON Preview"),t.k0s(),t.j41(2,"div",1)(3,"pre"),t.EFF(4),t.k0s()(),t.j41(5,"div",2)(6,"button",3),t.bIt("click",function(){return e.copyToClipboard()}),t.j41(7,"mat-icon"),t.EFF(8,"content_copy"),t.k0s()(),t.j41(9,"button",4),t.EFF(10,"Close"),t.k0s()()),2&r&&(t.R7$(4),t.JRh(e.data.json))},dependencies:[s.hM,s.tx,s.BI,s.E7,s.Yi,h.m_,h.An],encapsulation:2})}}return o})()}}]);